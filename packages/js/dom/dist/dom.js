Object.defineProperty(module.exports,"DOM",{get:()=>b,set:void 0,enumerable:!0,configurable:!0});const e=(e,t,n=!1,r=!1)=>{let o=[];for(;(!n||0===o.length)&&e!==document;)t?t instanceof Function?t(e)&&o.unshift(e):e instanceof Element&&e.matches&&e.matches(t)&&o.unshift(e):o.unshift(e),e.parentNode&&(e=e.parentNode);return!r&&o.indexOf(e)&&o.splice(o.indexOf(e),1),o},t=(e,n)=>{if(!n.textContent?.toLowerCase().includes(e.toLowerCase()))return[];if(![...n.childNodes].length)return[n];let r=[];for(let o of[...n.childNodes])r.push(...t(e,o));return r},n=Object.freeze({HTMLElement:1,ChildNode:3,Comment:8}),r=(e,t="")=>t&&e[t]?.trim().length>0,o=(e,t=[],o=[],l=!0)=>{let i=e.nodeType===n.ChildNode&&r(e,"textContent"),s=!t.includes(e.tag?.toLowerCase())&&r(e,"outerHTML"),a=!o.includes(e);return!!l&&e.nodeType===n.Comment||(i||s)&&a},l=(e,t=[],n=[],r="nextSibling")=>{let l=[],i=e;for(;i&&allowedNodeTypes.includes(i.nodeType);)o(i,t,n)&&l.push(i),i=i[r];return l},i=e=>new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),s=(e,t)=>{let n=t.replace(/\s+/g,"").toLowerCase(),r=e.startsWith("on"),o=["src","href","xlink:href"].includes(e)&&(n.includes("javascript:")||n.includes("data:text/html"));return r||o},a=e=>{if(1===e.nodeType)for(let{name:t,value:n}of e.attributes)s(t,n)&&e.removeAttribute(t)},d=e=>{for(let t of e.childNodes)a(t),d(t)},c=e=>{for(let t of e?.querySelectorAll("script")??[])t.remove()},u=(e,t=!1)=>{let n=i(e);return d(n),c(n),t?n.childNodes:n.innerHTML},f=e=>{if(!e.tag)throw Error("monk-ui.core.createElement error: no tag provided");let t=document.createElement(e.tag);for(let[n,r]of(e.classes&&t.classList.add(...e.classes),Object.entries(e.attributes??{})))t.setAttribute(n,r);let n=document.createDocumentFragment();return n.append(...u(e.content,!0)),e.content&&t.append(n),t},m=e=>e instanceof HTMLElement?e:f(e),p=Object.freeze({before:"beforebegin",prepend:"afterbegin",append:"beforeend",after:"afterend"}),g=(e,t,n)=>{let r=m(e);return t.insertAdjacentElement(p[n],r),r},b={ancestor:(t,n="",r=!1)=>{let o=e(t,selector,!0,r);return o.length>0?o[0]:void 0},ancestors:e,containsHTML:e=>/<[a-z][\s\S]*>/i.test(e),findNodes:t,getAllSiblings:(e,t=[])=>l(e.parentNode?.firstChild,t,[e]),getPrevSiblings:(e,t=[])=>l(e.previousSibling,t,[],"previousSibling"),getNextSiblings:(e,t=[])=>l(e.nextSibling,t),outerHTML:(e,t=!1)=>t?e.outerHTML.replaceAll("\n","").replace(/(?<=<.*?>).*(?=<\/.*>)/gm,""):e.outerHTML,sanitizeHTML:u,insertHTML:(e,t,n,r=!1)=>{r&&(t.innerHTML="");let o=u(e,!0),l=document.createDocumentFragment();return l.append(...o),t[n](l),o},createElement:f,ensureElement:m,insertElement:g,wrapElement:(e,t)=>{let n=m(e),r=m(t);return r.isConnected||g(r,n,"before"),g(n,r,"append"),r}};